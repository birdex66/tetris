#!/bin/bash

if [ "$#" -ne 1 ]; then
    echo "Argument expected"
    if [ "$#" -lt 1 ]; then
        echo "Specify a compilation type!!"
        echo "Default Type:                        0"
        echo "Mid-Speed Type (Safer defaults):     1"
        echo "Maximum Speed Type:                  2"
    fi
    exit 1
fi

if [ "$1" == 0 ]; then
    g++ src/tetris.cpp src/functions.cpp -o dev -lncurses&& 
    rm bin/dev ;
    mv stable bin/
fi

if [ "$1" == 1 ]; then
    g++ -O1 src/tetris.cpp src/functions.cpp -o stable -lncurses &&
    rm bin/stable ;
    mv stable bin/ 
fi

if [ "$1" == 2 ]; then
    g++ -O3 src/tetris.cpp src/functions.cpp -o perf -lncurses &&
    rm bin/perf ;
    mv pref bin/ 
fi

exit 0
